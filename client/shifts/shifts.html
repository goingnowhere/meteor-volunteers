<Template name="projectStaffingInput">
  {{! Wrapper div with this.atts needed to wire it into autoform}}
  <div {{this.atts}}>
    {{#if datesSet}}
      <div class="row">
        <div class="col-md-4 offset-md-4">
          {{__ ".min_people"}}
        </div>
        <div class="col-md-4">
          {{__ ".max_people"}}
        </div>
      </div>
      {{#each staffingValue in staffingArray}}
        <div class="row" data-index="{{@index}}">
          <div class="col-md-4">
            {{day @index}}
          </div>
          <div class="col-md-4">
            <input data-field="min" type="number" name="{{this.atts.name}}.{{@index}}.min" value="{{staffingValue.[min]}}" class="form-control" />
          </div>
          <div class="col-md-4">
            <input data-field="max" type="number" name="{{this.atts.name}}.{{@index}}.max" value="{{staffingValue.[max]}}" class="form-control" />
          </div>
        </div>
      {{/each}}
    {{/if}}
  </div>
</Template>

<template name="projectSignupForm">
  <div>{{> React component=DutyBody description=project.description }}</div>
  {{#if Template.subscriptionsReady }}
    {{> projectStaffingChart project=project confirmedSignups=confirmed }}
    {{#if signup._id}}
      {{> quickForm
        schema=formSchema
        id="projectSignupsUpdate"
        type="method-update"
        meteormethod=methodNameUpdate
        doc=signup }}
    {{else}}
      {{> quickForm
        schema=formSchema
        id="projectSignupsInsert"
        type="method"
        meteormethod=methodNameInsert
        doc=signup}}
    {{/if}}
  {{/if}}
</template>
